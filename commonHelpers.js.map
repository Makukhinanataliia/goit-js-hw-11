{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/showError.js","../src/js/templateForImages.js","../src/js/renderImages.js","../src/js/getImages.js","../src/js/loader.js","../src/js/onFormSubmit.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('form'),\n  inputSearch: document.querySelector('input'),\n  imageContainer: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showError() {\n  iziToast.error({\n    message: `Sorry, there are no images matching your search query. Please try again!`,\n    position: 'topRight',\n  });\n}\n","export function templateForImages(images) {\n  return `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${images.largeImageURL}\">\n              <img class=\"gallery-image\" src=\"${images.webformatURL}\" alt=\"${images.tags}\" />\n            </a>\n               <ul class=\"list-content\">      \n                  <li class=\"list-text\"><p>Likes <span>${images.likes}</span></p></li>\n                  <li class=\"list-text\"><p>Views <span>${images.views}</span></p></li>\n                  <li class=\"list-text\"><p>Comments <span>${images.comments}</span></p></li>\n                  <li class=\"list-text\"><p>Downloads <span>${images.downloads}</span></p></li>\n              </ul>\n          </li>`;\n}\n","import { refs } from './refs';\nimport { showError } from './showError';\nimport { templateForImages} from './templateForImages';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImages(images) {\n  const markup = images.hits.map(templateForImages).join('');\n  if (!images.hits.length) {\n    showError();\n  } else {\n    refs.imageContainer.innerHTML = markup;\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionSelector: 'img',\n      captionType: 'attr',\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      captionDelay: 250,\n    });\n\n    lightbox.on('show.simplelightbox');\n    lightbox.refresh();\n  }\n}\n","import { refs } from './refs';\n\nexport function getImages(userInput) {\n  const searchParams = new URLSearchParams({\n    key: '42406888-248cc758d404d4e51dcff55ab',\n    q: `${userInput}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `https://pixabay.com/api/?${searchParams}`;\n  \n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { refs } from './refs';\n\nexport function showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n","import { refs } from './refs';\nimport { renderImages } from './renderImages';\nimport { getImages } from './getImages';\nimport { showLoader, hideLoader } from './loader';\nimport { showError } from './showError';\n\nfunction isValidInput(input) {\n  return input.trim() !== '';\n}\n\nexport function onFormSubmit(event) {\n  event.preventDefault();\n  const userInput = event.target.elements.query.value;\n  if (!isValidInput(userInput)) {\n    showError('Invalid query. Please enter a non-empty string.');\n    return;\n  }\n  showLoader();\n  refs.imageContainer.innerHTML = '';\n\n  getImages(userInput).then(renderImages).catch(showError).finally(hideLoader);\n  event.target.reset();\n}\n","import { refs } from './js/refs';\nimport { onFormSubmit } from './js/onFormSubmit';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n"],"names":["refs","showError","iziToast","templateForImages","images","renderImages","markup","lightbox","SimpleLightbox","getImages","userInput","url","response","showLoader","hideLoader","isValidInput","input","onFormSubmit","event"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,MAAM,EACnC,YAAa,SAAS,cAAc,OAAO,EAC3C,eAAgB,SAAS,cAAc,UAAU,EACjD,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECFO,SAASC,GAAY,CAC1BC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACd,CAAG,CACH,CCRO,SAASC,EAAkBC,EAAQ,CACxC,MAAO;AAAA,4CACmCA,EAAO,aAAa;AAAA,gDAChBA,EAAO,YAAY,UAAUA,EAAO,IAAI;AAAA;AAAA;AAAA,yDAG/BA,EAAO,KAAK;AAAA,yDACZA,EAAO,KAAK;AAAA,4DACTA,EAAO,QAAQ;AAAA,6DACdA,EAAO,SAAS;AAAA;AAAA,gBAG7E,CCNO,SAASC,EAAaD,EAAQ,CACnC,MAAME,EAASF,EAAO,KAAK,IAAID,CAAiB,EAAE,KAAK,EAAE,EACzD,GAAI,CAACC,EAAO,KAAK,OACfH,QACK,CACLD,EAAK,eAAe,UAAYM,EAChC,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GACpB,CAAK,EAEDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,CACjB,CACH,CCtBO,SAASE,EAAUC,EAAW,CAQnC,MAAMC,EAAM,4BAPS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGD,CAAS,GACf,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CACmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CChBO,SAASC,GAAa,CAC3Bb,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASc,GAAa,CAC3Bd,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CCFA,SAASe,EAAaC,EAAO,CAC3B,OAAOA,EAAM,KAAM,IAAK,EAC1B,CAEO,SAASC,EAAaC,EAAO,CAClCA,EAAM,eAAc,EACpB,MAAMR,EAAYQ,EAAM,OAAO,SAAS,MAAM,MAC9C,GAAI,CAACH,EAAaL,CAAS,EAAG,CAC5BT,EAA2D,EAC3D,MACD,CACDY,IACAb,EAAK,eAAe,UAAY,GAEhCS,EAAUC,CAAS,EAAE,KAAKL,CAAY,EAAE,MAAMJ,CAAS,EAAE,QAAQa,CAAU,EAC3EI,EAAM,OAAO,OACf,CCnBAlB,EAAK,KAAK,iBAAiB,SAAUiB,CAAY"}